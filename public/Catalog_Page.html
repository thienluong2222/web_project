<!DOCTYPE html>
<html lang="vi-vn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catalog_Page</title>
  <link rel="icon" type="image/png" href="./images/image.png">
  <link rel="stylesheet" href="css/Catalog_Page.css">
  <link rel="stylesheet" href="./css/nav.css">
</head>
<body class="page__produce">
  <div class="div__layout">
    <header class="page__header">
      <nav class="navbar">
        <div class="navbar__container">
          <ul class="navbar__links">
            <li><a href="./trangchu.html" class="navbar__link">Trang Chủ</a></li>
            <li><a href="#" class="navbar__link">Sản Phẩm</a></li>
            <li><a href="./tintuc.html" class="navbar__link">Tin tức</a></li>
            <li><a href="./contact.html" class="navbar__link">Liên Hệ</a></li>
          </ul>
          <ul class="navbar__auth">
            <li><a href="./dangky.html" class="navbar__auth-link">Đăng Ký</a></li>
            <li>
              <a href="./dangnhap.html" class="navbar__auth-link navbar__auth-link--primary">Đăng Nhập</a>
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <main class="page__main">
      <!-- SIDEBAR -->
      <aside class="sidebar">
        <h3 class="sidebar__h3">  Mục Sản Phẩm</h3>
        <hr>
        <ul class="sidebar__list">
          <li class="sidebar__item">
            <button class="sidebar__toggle" data-target="len">🧶 Len</button>
          </li>
          <li class="sidebar__item">
            <button class="sidebar__toggle" data-target="thoitrang">👗 Thời Trang</button>
          </li>
          <li class="sidebar__item">
            <button class="sidebar__toggle" data-target="phukien">📱 Dụng Cụ Đan Len</button>
          </li>
          <!-- ✅ Thêm mục mới -->
          <li class="sidebar__item">
            <button class="sidebar__toggle" data-target="sanphamlen">🐻 Sản Phẩm Từ Len</button>
          </li>
          <li class="sidebar__item">
            <button class="sidebar__toggle" data-target="top">🔝 Quay Về Đầu Trang</button>
          </li>
        </ul>
      </aside>

      <!-- Nút Thêm Sản Phẩm -->
<div class="add-product__container">
  <button id="addProductBtn" class="add-product__btn">➕ Thêm Sản Phẩm</button>
</div>

<!-- Form Thêm Sản Phẩm (ẩn ban đầu) -->
<div id="addProductForm" class="add-product__form hidden">
  <h3>Thêm Sản Phẩm Mới</h3>
  <label>Tên Sản Phẩm:
    <input type="text" id="productName" placeholder="Nhập tên sản phẩm">
  </label>
  <label>Giá:
    <input type="text" id="productPrice" placeholder="Nhập giá (vd: 100000đ)">
  </label>
  <label>Mô tả:
    <textarea id="productDesc" placeholder="Thông tin mô tả..."></textarea>
  </label>
  <label>Hình Ảnh:
    <input type="file" id="productImage" accept="image/*">
  </label>
  <label>Loại Sản Phẩm:
    <select id="productCategory">
      <option value="len">🧶 Len</option>
      <option value="thoitrang">👗 Thời Trang</option>
      <option value="phukien">📱 Phụ Kiện Đan Móc Len</option>
      <option value="sanphamlen">🐻 Sản Phẩm Từ Len</option>
    </select>
  </label>
  <div class="add-product__actions">
    <button id="saveProductBtn">Lưu</button>
    <button id="cancelProductBtn">Hủy</button>
  </div>
</div>


      <div class="main__content">
        <!-- 🧶 Len -->
        <section id="len" class="product-section">
          <h2 class="product-section__title">🧶 Len</h2>
          <div class="produce__container" id="Len_catalog">
            <!-- Sản phẩm Len sẽ được load ở đây -->
          </div>
        </section>

        <!-- 👗 Thời Trang -->
        <section id="thoitrang" class="product-section">
          <h2 class="product-section__title">👗 Thời Trang</h2>
          <div class="produce__container" id="ThoiTrang_catalog">
            <div class="main__div--produce">
              <img src="./ThoiTrang/Áo Khoác len đen.png" alt="Áo Khoác Len Cardigan" class="div__img--produce">
              <div class="div__produce-item--info">
                <p class="item--id">Mã Sản Phẩm : 101</p>
                <h3 class="item--name">Áo Khoác Len Cardigan</h3>
                <section class="produce__fashion">   
                  <p class="infomation__fashion">Thông tin:</p>
                  <hr>
                  <p class="info--fashion">
                    Áo dài: 40cm <br>
                    Ngực: 98cm <br>
                    Chiều dài tay áo: 77cm
                  </p>
                </section>
                <hr>
                <h2>320,000đ</h2>
              </div>
              <a class="div__add-cart" href="#">Xem Chi Tiết</a>
            </div>
          </div>
        </section>

        <!-- 📱 Phụ kiện -->
        <section id="phukien" class="product-section">
          <h2 class="product-section__title">📱 Phụ Kiện Đan Móc Len</h2>
          <div class="produce__container" id="PhuKien_catalog">
            <div class="main__div--produce">
              <img src="./DụngCụĐangLen/Máy Đếm Dòng Cơ.jpeg" alt="Máy Đếm Dòng Cơ" class="div__img--produce">
              <div class="div__produce-item--info">
                <p class="item--id">Mã Sản Phẩm : 201</p>
                <h3 class="item--name">Máy Đếm Dòng Cơ</h3>
                <hr>
                <h2>50,000đ</h2>
              </div>
              <a class="div__add-cart" href="#">Xem Chi Tiết</a>
            </div>
          </div>
        </section>

        <!-- 🐻 Sản Phẩm Từ Len -->
        <section id="sanphamlen" class="product-section">
          <h2 class="product-section__title">🐻 Sản Phẩm Từ Len</h2>
          <div class="produce__container" id="thuBong_catalog">
            <div class="main__div--produce">
              <img src="./SanPhamTuLen/GauBongLen.jpeg" alt="Gấu Bông Len" class="div__img--produce">
              <div class="div__produce-item--info">
                <p class="item--id">Mã Sản Phẩm : 301</p>
                <h3 class="item--name">Gấu Bông Len</h3>
                <hr>
                <h2>150,000đ</h2>
              </div>
              <a class="div__add-cart" href="#">Xem Chi Tiết</a>
            </div>
          </div>
        </section>

      </div>
    </main>
  </div>

  <footer class="footer">
    <!-- Footer giữ nguyên -->
  </footer>

  <!-- JavaScript scroll mượt -->
  <script>
    const sidebarButtons = document.querySelectorAll('.sidebar__toggle');
    sidebarButtons.forEach(button => {
      button.addEventListener('click', () => {
        const targetId = button.getAttribute('data-target');
        if (targetId === "top") {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
          const targetSection = document.getElementById(targetId);
          if (targetSection) {
            targetSection.scrollIntoView({ behavior: 'smooth' });
          }
        }
      });
    });

    const addProductBtn = document.getElementById('addProductBtn');
const addProductForm = document.getElementById('addProductForm');
const saveProductBtn = document.getElementById('saveProductBtn');
const cancelProductBtn = document.getElementById('cancelProductBtn');

function loadProducts() {
  const products = JSON.parse(localStorage.getItem('products')) || [];
  products.forEach(p => renderProduct(p));
}

function saveProduct(product) {
  const products = JSON.parse(localStorage.getItem('products')) || [];
  products.push(product);
  localStorage.setItem('products', JSON.stringify(products));
}

function renderProduct(product) {
  const section = document.getElementById(product.category);
  const container = section.querySelector('.produce__container');
  const div = document.createElement('div');
  div.className = 'main__div--produce';
  div.innerHTML = `
    <img src="${product.image}" alt="${product.name}" class="div__img--produce">
    <div class="div__produce-item--info">
      <p class="item--id">Mã Sản Phẩm : ${product.id}</p>
      <h3 class="item--name">${product.name}</h3>
      <p>${product.desc}</p>
      <hr>
      <h2>${product.price}</h2>
    </div>
    <a class="div__add-cart" href="#">Xem Chi Tiết</a>
    <div class="div__add-cart delete-btn">🗑️ Xóa</div>
  `;
  div.querySelector('.delete-btn').onclick = () => {
    div.remove();
    deleteProduct(product.id);
  };
  container.appendChild(div);
}

function deleteProduct(id) {
  let products = JSON.parse(localStorage.getItem('products')) || [];
  products = products.filter(p => p.id !== id);
  localStorage.setItem('products', JSON.stringify(products));
}

addProductBtn.onclick = () => {
  addProductForm.classList.remove('hidden');
};

cancelProductBtn.onclick = () => {
  addProductForm.classList.add('hidden');
};

saveProductBtn.onclick = () => {
  const name = document.getElementById('productName').value;
  const price = document.getElementById('productPrice').value;
  const desc = document.getElementById('productDesc').value;
  const category = document.getElementById('productCategory').value;
  const imageFile = document.getElementById('productImage').files[0];

  if (!name || !price || !desc || !imageFile) {
    alert('Vui lòng điền đầy đủ thông tin và chọn hình ảnh!');
    return;
  }

  const reader = new FileReader();
  reader.onload = function (e) {
    const product = {
      id: Date.now(),
      name,
      price,
      desc,
      category,
      image: e.target.result
    };
    saveProduct(product);
    renderProduct(product);
    addProductForm.classList.add('hidden');
    addProductForm.reset();
  };
  reader.readAsDataURL(imageFile);
};

// Load sản phẩm khi trang tải
window.addEventListener('DOMContentLoaded', loadProducts);

  </script>
  <script src="./js/main.js"></script>
</body>
</html>
